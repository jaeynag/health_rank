<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Health Rank - Today (Ticker + Top10)</title>
<style>
  body{margin:0;font-family:-apple-system,BlinkMacSystemFont,system-ui,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,sans-serif;background:#0f1115;color:#eaeaf0}
  .page{max-width:480px;margin:0 auto;padding:12px}
  .header{position:sticky;top:0;background:#0f1115;padding:6px 0;border-bottom:1px solid #1f2430;z-index:5}

  /* Ticker */
  .ticker-wrap{overflow:hidden;white-space:nowrap;border-radius:10px}
  .ticker-touch{cursor:pointer}
  .ticker{
    display:inline-block;
    padding-left:100%;
    animation: marquee 18s linear infinite;
    will-change:transform;
  }
  .ticker span{
    display:inline-block;
    margin-right:24px;
    color:#cfd3ff;
    animation:pulse 1.6s ease-in-out infinite;
  }
  .paused .ticker{animation-play-state:paused}
  .paused .ticker span{animation-play-state:paused}

  @keyframes marquee{
    0%{transform:translateX(0)}
    100%{transform:translateX(-100%)}
  }
  @keyframes pulse{
    0%,100%{opacity:.85;text-shadow:none}
    50%{opacity:1;text-shadow:0 0 6px rgba(120,140,255,.6)}
  }

  /* UI */
  .section{margin:12px 0}
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
  .btn{background:#1b1f2a;border:1px solid #2a3040;color:#fff;border-radius:10px;padding:12px;text-align:center;user-select:none}
  .btn.primary{background:#4c5cff;border-color:#4c5cff}
  .btn.ghost{background:#141826}
  .row{display:flex;gap:8px}
  .card{background:#141826;border:1px solid #2a3040;border-radius:14px;padding:12px}
  .muted{color:#8e93b5;font-size:12px}
  .big{font-size:28px;letter-spacing:.08em}
  .kbd{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
  .kbd .key{padding:14px;border-radius:12px;background:#1b1f2a;border:1px solid #2a3040;text-align:center}
  .pill{padding:6px 10px;border-radius:999px;border:1px solid #2a3040}
  .set{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px dashed #2a3040}

  /* Top10 drawer */
  .overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:flex-start;justify-content:center;padding:12px;z-index:50}
  .overlay.show{display:flex}
  .drawer{width:min(480px,100%);margin-top:56px;background:#141826;border:1px solid #2a3040;border-radius:16px;overflow:hidden}
  .drawer-head{display:flex;align-items:center;justify-content:space-between;padding:12px;border-bottom:1px solid #2a3040}
  .drawer-title{font-weight:700}
  .drawer-sub{color:#8e93b5;font-size:12px;margin-top:2px}
  .drawer-body{max-height:60vh;overflow:auto}
  .rank-row{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px dashed #2a3040}
  .rank-left{display:flex;gap:10px;align-items:center;min-width:0}
  .rank-badge{width:28px;text-align:center;color:#cfd3ff}
  .rank-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .rank-val{color:#eaeaf0}
</style>
</head>
<body>
<div class="page" id="app">
  <div class="header">
    <div class="ticker-wrap ticker-touch" id="tickerWrap" title="ëˆ„ë¥´ë©´ Top10">
      <div class="ticker" id="ticker">
        <span>í•˜ì²´ ğŸ¥‡ jaeyang 8,420kg</span>
        <span>í•˜ì²´ ğŸ¥ˆ userB 7,980kg</span>
        <span>í•˜ì²´ ğŸ¥‰ userC 7,450kg</span>
      </div>
    </div>
  </div>

  <div class="section card">
    <div class="grid">
      <div class="btn">ê°€ìŠ´</div><div class="btn">ë“±</div><div class="btn">í•˜ì²´</div>
      <div class="btn">ì–´ê¹¨</div><div class="btn">íŒ”</div><div class="btn">ë³µê·¼</div>
      <div class="btn primary">ìœ ì‚°ì†Œ</div>
    </div>
  </div>

  <div class="section card">
    <div class="row" style="justify-content:space-between;align-items:center">
      <div class="muted">ë²¤ì¹˜í”„ë ˆìŠ¤</div>
      <div class="pill">â± 00:12:34</div>
    </div>
    <div style="margin:8px 0;text-align:center">
      <div class="muted">í˜„ì¬ ë¬´ê²Œ</div>
      <div class="big">60.0 <span class="pill">KG</span></div>
    </div>
    <div class="row" style="justify-content:center;margin-bottom:8px">
      <div class="pill">ì¦</div><div class="pill">ê°</div>
    </div>
    <div class="kbd">
      <div class="key">BAR</div><div class="key">0.25</div><div class="key">0.5</div>
      <div class="key">1</div><div class="key">2.5</div><div class="key">5</div>
      <div class="key">10</div><div class="key">20</div><div class="key">â†</div>
    </div>
    <div class="row" style="margin-top:10px">
      <div class="btn ghost" style="flex:1">â˜ ì´ì „ ì„¸íŠ¸ ë³µì‚¬</div>
      <div class="btn primary" style="flex:1">ì„¸íŠ¸ ì €ì¥</div>
    </div>

    <div class="section">
      <div class="set"><span>1ì„¸íŠ¸</span><span>60kg Ã— 8</span></div>
      <div class="set"><span>2ì„¸íŠ¸</span><span>60kg Ã— 7</span></div>
    </div>

    <div class="row">
      <div class="btn ghost" style="flex:1">ì¢…ëª© ì™„ë£Œ</div>
    </div>
  </div>

  <div class="section card">
    <div class="row">
      <div class="btn ghost" style="flex:1">+ ë¶€ìœ„ ì¶”ê°€</div>
      <div class="btn ghost" style="flex:1">+ ì¢…ëª© ì¶”ê°€</div>
    </div>
  </div>

  <div class="section">
    <div class="btn">ìš´ë™ ì¢…ë£Œ</div>
  </div>
</div>

<!-- Top10 Overlay -->
<div class="overlay" id="overlay" aria-hidden="true">
  <div class="drawer" role="dialog" aria-modal="true" aria-label="Top10">
    <div class="drawer-head">
      <div>
        <div class="drawer-title">Top 10 Â· í•˜ì²´(ì˜¤ëŠ˜)</div>
        <div class="drawer-sub">ê°™ì€ ì²´ê¸‰ Â· ì„±ë³„ Â· ë¶€ìœ„ ê¸°ì¤€</div>
      </div>
      <div class="btn ghost" id="closeBtn" style="padding:8px 10px;border-radius:12px">ë‹«ê¸°</div>
    </div>
    <div class="drawer-body" id="top10">
      <!-- rows inserted by JS -->
    </div>
  </div>
</div>

<script>
  const app = document.getElementById('app');
  const tickerWrap = document.getElementById('tickerWrap');
  const overlay = document.getElementById('overlay');
  const closeBtn = document.getElementById('closeBtn');
  const top10 = document.getElementById('top10');

  const sample = [
    {rank:1,name:"jaeyang",vol:"8,420kg"},
    {rank:2,name:"userB",vol:"7,980kg"},
    {rank:3,name:"userC",vol:"7,450kg"},
    {rank:4,name:"userD",vol:"7,100kg"},
    {rank:5,name:"userE",vol:"6,980kg"},
    {rank:6,name:"userF",vol:"6,850kg"},
    {rank:7,name:"userG",vol:"6,700kg"},
    {rank:8,name:"userH",vol:"6,500kg"},
    {rank:9,name:"userI",vol:"6,320kg"},
    {rank:10,name:"userJ",vol:"6,100kg"},
  ];

  function renderTop10(){
    top10.innerHTML = "";
    for(const r of sample){
      const row = document.createElement('div');
      row.className = "rank-row";
      row.innerHTML = `
        <div class="rank-left">
          <div class="rank-badge">${r.rank}</div>
          <div class="rank-name">${r.name}</div>
        </div>
        <div class="rank-val">${r.vol}</div>
      `;
      top10.appendChild(row);
    }
  }

  function openTop10(){
    renderTop10();
    app.classList.add('paused');        // pause ticker + pulse
    overlay.classList.add('show');
    overlay.setAttribute('aria-hidden', 'false');
  }
  function closeTop10(){
    overlay.classList.remove('show');
    overlay.setAttribute('aria-hidden', 'true');
    app.classList.remove('paused');     // resume
  }

  tickerWrap.addEventListener('click', openTop10);
  closeBtn.addEventListener('click', closeTop10);
  overlay.addEventListener('click', (e)=>{ if(e.target===overlay) closeTop10(); });
</script>
</body>
</html>
